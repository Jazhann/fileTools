!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.fileTools=t():e.fileTools=t()}(this,(function(){return e={890:(e,t,r)=>{const i=r(231),n=r(610),{mkdirpNative:o,mkdirpNativeSync:s}=r(378),{mkdirpManual:c,mkdirpManualSync:a}=r(600),{useNative:d,useNativeSync:y}=r(167),f=(e,t)=>(e=n(e),t=i(t),d(t)?o(e,t):c(e,t));f.sync=(e,t)=>(e=n(e),t=i(t),y(t)?s(e,t):a(e,t)),f.native=(e,t)=>o(n(e),i(t)),f.manual=(e,t)=>c(n(e),i(t)),f.nativeSync=(e,t)=>s(n(e),i(t)),f.manualSync=(e,t)=>a(n(e),i(t)),e.exports=f},812:(e,t,r)=>{const{dirname:i}=r(622),n=(e,t,r)=>r===t?Promise.resolve():e.statAsync(t).then((e=>e.isDirectory()?r:void 0),(r=>"ENOENT"===r.code?n(e,i(t),t):void 0)),o=(e,t,r)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(r){return"ENOENT"===r.code?o(e,i(t),t):void 0}};e.exports={findMade:n,findMadeSync:o}},600:(e,t,r)=>{const{dirname:i}=r(622),n=(e,t,r)=>{t.recursive=!1;const o=i(e);return o===e?t.mkdirAsync(e,t).catch((e=>{if("EISDIR"!==e.code)throw e})):t.mkdirAsync(e,t).then((()=>r||e),(i=>{if("ENOENT"===i.code)return n(o,t).then((r=>n(e,t,r)));if("EEXIST"!==i.code&&"EROFS"!==i.code)throw i;return t.statAsync(e).then((e=>{if(e.isDirectory())return r;throw i}),(()=>{throw i}))}))},o=(e,t,r)=>{const n=i(e);if(t.recursive=!1,n===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),r||e}catch(i){if("ENOENT"===i.code)return o(e,t,o(n,t,r));if("EEXIST"!==i.code&&"EROFS"!==i.code)throw i;try{if(!t.statSync(e).isDirectory())throw i}catch(e){throw i}}};e.exports={mkdirpManual:n,mkdirpManualSync:o}},378:(e,t,r)=>{const{dirname:i}=r(622),{findMade:n,findMadeSync:o}=r(812),{mkdirpManual:s,mkdirpManualSync:c}=r(600);e.exports={mkdirpNative:(e,t)=>(t.recursive=!0,i(e)===e?t.mkdirAsync(e,t):n(t,e).then((r=>t.mkdirAsync(e,t).then((()=>r)).catch((r=>{if("ENOENT"===r.code)return s(e,t);throw r}))))),mkdirpNativeSync:(e,t)=>{if(t.recursive=!0,i(e)===e)return t.mkdirSync(e,t);const r=o(t,e);try{return t.mkdirSync(e,t),r}catch(r){if("ENOENT"===r.code)return c(e,t);throw r}}}},231:(e,t,r)=>{const{promisify:i}=r(669),n=r(747);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:n,...e};else if("number"==typeof e)e={mode:e,fs:n};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:n}}else e={mode:511,fs:n};return e.mkdir=e.mkdir||e.fs.mkdir||n.mkdir,e.mkdirAsync=i(e.mkdir),e.stat=e.stat||e.fs.stat||n.stat,e.statAsync=i(e.stat),e.statSync=e.statSync||e.fs.statSync||n.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||n.mkdirSync,e}},610:(e,t,r)=>{const i=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:n,parse:o}=r(622);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=n(e),"win32"===i){const t=/[*|"<>?:]/,{root:r}=o(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},167:(e,t,r)=>{const i=r(747),n=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),o=+n[0]>10||10==+n[0]&&+n[1]>=12,s=o?e=>e.mkdir===i.mkdir:()=>!1,c=o?e=>e.mkdirSync===i.mkdirSync:()=>!1;e.exports={useNative:s,useNativeSync:c}},138:(e,t,r)=>{var i=r(747),n=r(890);function o(e){return new Promise((function(t,r){i.readFile(e,"utf8",(function(e,i){e?r(e):t(i)}))}))}function s(e,t){return new Promise((function(r,n){i.writeFile(e,t,"utf8",(function(e){e?n(e):r({response:"ok"})}))}))}e.exports={readFile:o,writeFile:s,modifyFile:async function(e,t){if(i.existsSync(e)&&Array.isArray(t)){console.log("Modifying "+e);let r=await o(e);r=r.toString(),t.forEach((e=>{var t=new RegExp(e[0],"gm");r=r.replace(t,e[1])})),await s(e,r)}else console.log(e+" not found. Skipping")},copyFile:function(e,t,o=!0){if(i.existsSync(e)){var s=(0,r(622).dirname)(t);if(!i.existsSync(s)){if(!o)return void console.log("Parent directory "+s+" does NOT exist and not required to create it. Skipping to copy file "+e+" to "+t);console.log("Creating directory "+s),n.sync(s)}console.log("Copying "+e+" to "+t),i.createReadStream(e).pipe(i.createWriteStream(t))}else console.log(e+" not found. Skipping")},copyRoute:function(e,t,r=!0){i.existsSync(e)&&i.existsSync(t)?i.readdirSync(e).forEach((function(n){var o=e+"/"+n,s=t+"/"+n;i.lstatSync(o).isDirectory()&&r?(i.existsSync(s)||(console.log("Creating directory "+s),i.mkdirSync(s)),copyFiles(o,s)):(console.log("Copying "+o+" to "+s),i.createReadStream(o).pipe(i.createWriteStream(s)))})):console.log(e+" not found. Skipping")}}},747:e=>{"use strict";e.exports=require("fs")},622:e=>{"use strict";e.exports=require("path")},669:e=>{"use strict";e.exports=require("util")}},t={},function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}(138);var e,t}));