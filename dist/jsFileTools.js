!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.jsFileTools=r():e.jsFileTools=r()}(this,(function(){return e={890:(e,r,t)=>{const n=t(231),o=t(610),{mkdirpNative:i,mkdirpNativeSync:s}=t(378),{mkdirpManual:c,mkdirpManualSync:a}=t(600),{useNative:p,useNativeSync:d}=t(167),y=(e,r)=>(e=o(e),r=n(r),p(r)?i(e,r):c(e,r));y.sync=(e,r)=>(e=o(e),r=n(r),d(r)?s(e,r):a(e,r)),y.native=(e,r)=>i(o(e),n(r)),y.manual=(e,r)=>c(o(e),n(r)),y.nativeSync=(e,r)=>s(o(e),n(r)),y.manualSync=(e,r)=>a(o(e),n(r)),e.exports=y},812:(e,r,t)=>{const{dirname:n}=t(622),o=(e,r,t)=>t===r?Promise.resolve():e.statAsync(r).then((e=>e.isDirectory()?t:void 0),(t=>"ENOENT"===t.code?o(e,n(r),r):void 0)),i=(e,r,t)=>{if(t!==r)try{return e.statSync(r).isDirectory()?t:void 0}catch(t){return"ENOENT"===t.code?i(e,n(r),r):void 0}};e.exports={findMade:o,findMadeSync:i}},600:(e,r,t)=>{const{dirname:n}=t(622),o=(e,r,t)=>{r.recursive=!1;const i=n(e);return i===e?r.mkdirAsync(e,r).catch((e=>{if("EISDIR"!==e.code)throw e})):r.mkdirAsync(e,r).then((()=>t||e),(n=>{if("ENOENT"===n.code)return o(i,r).then((t=>o(e,r,t)));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;return r.statAsync(e).then((e=>{if(e.isDirectory())return t;throw n}),(()=>{throw n}))}))},i=(e,r,t)=>{const o=n(e);if(r.recursive=!1,o===e)try{return r.mkdirSync(e,r)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return r.mkdirSync(e,r),t||e}catch(n){if("ENOENT"===n.code)return i(e,r,i(o,r,t));if("EEXIST"!==n.code&&"EROFS"!==n.code)throw n;try{if(!r.statSync(e).isDirectory())throw n}catch(e){throw n}}};e.exports={mkdirpManual:o,mkdirpManualSync:i}},378:(e,r,t)=>{const{dirname:n}=t(622),{findMade:o,findMadeSync:i}=t(812),{mkdirpManual:s,mkdirpManualSync:c}=t(600);e.exports={mkdirpNative:(e,r)=>(r.recursive=!0,n(e)===e?r.mkdirAsync(e,r):o(r,e).then((t=>r.mkdirAsync(e,r).then((()=>t)).catch((t=>{if("ENOENT"===t.code)return s(e,r);throw t}))))),mkdirpNativeSync:(e,r)=>{if(r.recursive=!0,n(e)===e)return r.mkdirSync(e,r);const t=i(r,e);try{return r.mkdirSync(e,r),t}catch(t){if("ENOENT"===t.code)return c(e,r);throw t}}}},231:(e,r,t)=>{const{promisify:n}=t(669),o=t(747);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:o,...e};else if("number"==typeof e)e={mode:e,fs:o};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:o}}else e={mode:511,fs:o};return e.mkdir=e.mkdir||e.fs.mkdir||o.mkdir,e.mkdirAsync=n(e.mkdir),e.stat=e.stat||e.fs.stat||o.stat,e.statAsync=n(e.stat),e.statSync=e.statSync||e.fs.statSync||o.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||o.mkdirSync,e}},610:(e,r,t)=>{const n=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:o,parse:i}=t(622);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=o(e),"win32"===n){const r=/[*|"<>?:]/,{root:t}=i(e);if(r.test(e.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},167:(e,r,t)=>{const n=t(747),o=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),i=+o[0]>10||10==+o[0]&&+o[1]>=12,s=i?e=>e.mkdir===n.mkdir:()=>!1,c=i?e=>e.mkdirSync===n.mkdirSync:()=>!1;e.exports={useNative:s,useNativeSync:c}},138:(e,r,t)=>{var n=t(747),o=t(890),i=function(){};i.prototype.readFile=function(e){return new Promise((function(r,t){n.readFile(e,"utf8",(function(e,n){e?t(e):r(n)}))}))},i.prototype.writeFile=function(e,r){return new Promise((function(t,o){n.writeFile(e,r,"utf8",(function(e){e?o(e):t({response:"ok"})}))}))},i.prototype.modifyFile=async function(e,r){if(!Array.isArray(r)&&r.length<1)throw new Error("second argument must be an array and not being empty");if(!n.existsSync(e)){var t=e+" not found. Skipping";throw console.info(t),new Error(t)}console.info("Modifying "+e);var o=await i.prototype.readFile(e);o=o.toString(),r.forEach((e=>{var r=new RegExp(e[0],"gm");o=o.replace(r,e[1])})),await i.prototype.writeFile(e,o)},i.prototype.copyFile=function(e,r,i=!0){return new Promise((function(s,c){if(n.existsSync(e)){var a=(0,t(622).dirname)(r);if(!n.existsSync(a)){if(!i){var p="Skipping copying file "+e+" to "+r;console.info(p),c(p)}console.info("Creating directory "+a),o.sync(a)}console.info("Copying "+e+" to "+r),n.createReadStream(e).pipe(n.createWriteStream(r)),s({response:"ok"})}else p=e+" not found. Skipping",console.info(p),c(p)}))},i.prototype.copyDir=function(e,r,t=!0){return new Promise((function(o,s){if(n.existsSync(e)&&n.existsSync(r))n.readdirSync(e).forEach((function(o){var s=e+"/"+o,c=r+"/"+o;n.lstatSync(s).isDirectory()&&t?(n.existsSync(c)||(console.info("Creating directory "+c),n.mkdirSync(c)),i.prototype.copyDir(s,c)):(console.info("Copying "+s+" to "+c),n.createReadStream(s).pipe(n.createWriteStream(c)))})),o({response:"ok"});else{var c=e+" not found. Skipping";console.info(c),s(c)}}))},i.prototype.deleteFile=function(e){return new Promise((function(r,t){try{n.unlinkSync(e),console.info("File removed:",e),r({response:"ok"})}catch(e){console.error(e),t(e)}}))},e.exports=new i},747:e=>{"use strict";e.exports=require("fs")},622:e=>{"use strict";e.exports=require("path")},669:e=>{"use strict";e.exports=require("util")}},r={},function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(138);var e,r}));