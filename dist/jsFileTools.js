!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.jsFileTools=r():e.jsFileTools=r()}(this,(function(){return e={890:(e,r,t)=>{const o=t(231),n=t(610),{mkdirpNative:i,mkdirpNativeSync:c}=t(378),{mkdirpManual:s,mkdirpManualSync:a}=t(600),{useNative:d,useNativeSync:y}=t(167),p=(e,r)=>(e=n(e),r=o(r),d(r)?i(e,r):s(e,r));p.sync=(e,r)=>(e=n(e),r=o(r),y(r)?c(e,r):a(e,r)),p.native=(e,r)=>i(n(e),o(r)),p.manual=(e,r)=>s(n(e),o(r)),p.nativeSync=(e,r)=>c(n(e),o(r)),p.manualSync=(e,r)=>a(n(e),o(r)),e.exports=p},812:(e,r,t)=>{const{dirname:o}=t(622),n=(e,r,t)=>t===r?Promise.resolve():e.statAsync(r).then((e=>e.isDirectory()?t:void 0),(t=>"ENOENT"===t.code?n(e,o(r),r):void 0)),i=(e,r,t)=>{if(t!==r)try{return e.statSync(r).isDirectory()?t:void 0}catch(t){return"ENOENT"===t.code?i(e,o(r),r):void 0}};e.exports={findMade:n,findMadeSync:i}},600:(e,r,t)=>{const{dirname:o}=t(622),n=(e,r,t)=>{r.recursive=!1;const i=o(e);return i===e?r.mkdirAsync(e,r).catch((e=>{if("EISDIR"!==e.code)throw e})):r.mkdirAsync(e,r).then((()=>t||e),(o=>{if("ENOENT"===o.code)return n(i,r).then((t=>n(e,r,t)));if("EEXIST"!==o.code&&"EROFS"!==o.code)throw o;return r.statAsync(e).then((e=>{if(e.isDirectory())return t;throw o}),(()=>{throw o}))}))},i=(e,r,t)=>{const n=o(e);if(r.recursive=!1,n===e)try{return r.mkdirSync(e,r)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return r.mkdirSync(e,r),t||e}catch(o){if("ENOENT"===o.code)return i(e,r,i(n,r,t));if("EEXIST"!==o.code&&"EROFS"!==o.code)throw o;try{if(!r.statSync(e).isDirectory())throw o}catch(e){throw o}}};e.exports={mkdirpManual:n,mkdirpManualSync:i}},378:(e,r,t)=>{const{dirname:o}=t(622),{findMade:n,findMadeSync:i}=t(812),{mkdirpManual:c,mkdirpManualSync:s}=t(600);e.exports={mkdirpNative:(e,r)=>(r.recursive=!0,o(e)===e?r.mkdirAsync(e,r):n(r,e).then((t=>r.mkdirAsync(e,r).then((()=>t)).catch((t=>{if("ENOENT"===t.code)return c(e,r);throw t}))))),mkdirpNativeSync:(e,r)=>{if(r.recursive=!0,o(e)===e)return r.mkdirSync(e,r);const t=i(r,e);try{return r.mkdirSync(e,r),t}catch(t){if("ENOENT"===t.code)return s(e,r);throw t}}}},231:(e,r,t)=>{const{promisify:o}=t(669),n=t(747);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:n,...e};else if("number"==typeof e)e={mode:e,fs:n};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:n}}else e={mode:511,fs:n};return e.mkdir=e.mkdir||e.fs.mkdir||n.mkdir,e.mkdirAsync=o(e.mkdir),e.stat=e.stat||e.fs.stat||n.stat,e.statAsync=o(e.stat),e.statSync=e.statSync||e.fs.statSync||n.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||n.mkdirSync,e}},610:(e,r,t)=>{const o=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:n,parse:i}=t(622);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=n(e),"win32"===o){const r=/[*|"<>?:]/,{root:t}=i(e);if(r.test(e.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},167:(e,r,t)=>{const o=t(747),n=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),i=+n[0]>10||10==+n[0]&&+n[1]>=12,c=i?e=>e.mkdir===o.mkdir:()=>!1,s=i?e=>e.mkdirSync===o.mkdirSync:()=>!1;e.exports={useNative:c,useNativeSync:s}},138:(e,r,t)=>{var o=t(747),n=t(890),i=function(){};i.prototype.readFile=function(e){return new Promise((function(r,t){o.readFile(e,"utf8",(function(e,o){e?t(e):r(o)}))}))},i.prototype.writeFile=function(e,r){return new Promise((function(t,n){o.writeFile(e,r,"utf8",(function(e){e?n(e):t({result:"ok"})}))}))},i.prototype.modifyFile=async function(e,r){if(!Array.isArray(r)&&r.length<1){var t="Second argument must be an array and not being empty";throw console.error(t),new Error(t)}if(!o.existsSync(e))throw t=e+" not found. Skipping",console.error(t),new Error(t);console.info("Modifying "+e);var n=await i.prototype.readFile(e);n=n.toString(),r.forEach((e=>{var r=new RegExp(e[0],"gm");n=n.replace(r,e[1])})),await i.prototype.writeFile(e,n)},i.prototype.copyFile=function(e,r,i=!0){return new Promise((function(c,s){if(o.existsSync(e)){var a=(0,t(622).dirname)(r);if(!o.existsSync(a)){if(!i){var d="Skipping copying file "+e+" to "+r;console.info(d),s(d)}console.info("Creating directory "+a),n.sync(a)}console.info("Copying "+e+" to "+r),o.createReadStream(e).pipe(o.createWriteStream(r)),c({result:"ok"})}else d=e+" not found. Skipping",console.error(d),s(d)}))},i.prototype.copyDir=function(e,r,t=!0){return new Promise((function(n,c){if(o.existsSync(e)&&o.existsSync(r))o.readdirSync(e).forEach((function(n){var c=e+"/"+n,s=r+"/"+n;o.lstatSync(c).isDirectory()&&t?(o.existsSync(s)||(console.info("Creating directory "+s),o.mkdirSync(s)),i.prototype.copyDir(c,s)):(console.info("Copying "+c+" to "+s),o.createReadStream(c).pipe(o.createWriteStream(s)))})),n({result:"ok"});else{var s=e+" not found. Skipping";console.error(s),c(s)}}))},i.prototype.deleteFile=function(e){return new Promise((function(r,t){if(o.lstatSync(e).isDirectory()){var n="Directories can not be deleted use deleteDir";console.error(n),t(n)}else try{o.unlinkSync(e),console.info("File deleted:",e),r({result:"ok"})}catch(r){n="Error while deleting "+e+", "+r,console.error(n),t(r)}}))},i.prototype.deleteDir=function(e){return new Promise((function(r,t){if(o.lstatSync(e).isDirectory())try{o.rmdirSync(e,{recursive:!0}),console.info("Directory deleted: "+e),r({result:"ok"})}catch(r){var n="Error while deleting "+e+", "+r;console.error(n),t(n)}else n=e+" is not a directory",console.error(n),t(n)}))},e.exports=new i},747:e=>{"use strict";e.exports=require("fs")},622:e=>{"use strict";e.exports=require("path")},669:e=>{"use strict";e.exports=require("util")}},r={},function t(o){var n=r[o];if(void 0!==n)return n.exports;var i=r[o]={exports:{}};return e[o](i,i.exports,t),i.exports}(138);var e,r}));